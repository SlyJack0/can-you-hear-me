(function(){window.Map=function(f){this.data=[[1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,1],[1,0,0,0,2,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1]];var d=new XMLHttpRequest;d.open("GET","data/map.json",!0);var g=this;d.onload=function(a){g.data=JSON.parse(this.response);f()};d.send();this.tileSize=32;this.getPlayerStartPosition=function(){for(var a=0;a<this.data.length;a++)for(var b=
this.data[a],c=0;c<b.length;c++)if(2==b[c])return{x:c*this.tileSize,y:a*this.tileSize}};this.draw=function(a,b){for(var c=0;c<this.data.length;c++)for(var d=this.data[c],e=0;e<d.length;e++){var f=b.getScreenX(e*this.tileSize),g=b.getScreenY(c*this.tileSize);1==d[e]&&(a.fillStyle="#AAAAAA",a.fillRect(f,g,this.tileSize,this.tileSize))}};this.collision=function(a,b){return 1==this.data[Math.floor(b/this.tileSize)][Math.floor(a/this.tileSize)]?!0:!1};this.getData=function(a,b){return this.data[Math.floor(b/
this.tileSize)][Math.floor(a/this.tileSize)]}}})();